<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}
{% autoescape false %}
	<br>

	<center>
	<h4>Current Chain Length: {{current_length}}</h4>
	{% if forked %}
	<h4>Main chain replaced with forked!</h4>
	{% endif  %}
	<h3>Create Transaction. Choose receiver to send SUTD Coins</h3>
	<form action="./new_transaction" id="textform" method="post">
			<label for="receiver">Select a receiver</label>
			<select name="receiver" id="receiver">
				{% for public_key in public_keys %}
					<option value="{{public_key}}">{{public_key}}</option>
				{% endfor %}
			</select>
			<br>
			<br>
			<input type="number" name="amount" placeholder="amount">
			<br>
			<br>
			<input type="text" name="comment" placeholder="comment">
			<br>
			<br>
	    <input type="submit" value="Create">
	</form>
	

	<h3>Choose fork to mine. Leave all blank for default chain mining</h3>
	<form action="./mine" target="_blank" id="textform" method="post">
		<input type="text" name="target_fork" placeholder="Target Fork">
		<br>
		<br>
		<input type="text" name="new_fork" placeholder="New Fork Name">
		<br>
		<br>
		<input type="number" name="index" placeholder="Index">
		<br>
		<br>
		<input type="submit" value="Mine">
	</form>

	</center>
	<br>

	<a href="./get_public_keys"><button>Get public keys</button></a>
	<p>Forked Chains:</p>
		{% for chain in forked_chains%}
			<p>{{chain}}</p>
		{% endfor %}

	<div style="margin: 20px;">


	<style>
		.post_box {
		    background: #fff;
		    padding: 12px 0px 0px 12px;
		    margin-top: 0px;
		    margin-bottom: 8px;
		    border-top: 1px solid #f0f0f0;
		}

		.post_box-header {
		    padding-bottom: 12px;
		}

		.post_box-avatar {
		    width: 38px;
		    height: 38px;
		    border-radius: 50%;
		    display: flex;
		    justify-content: center;
		    align-items: center;
		    color: white;
		    font-size: 22px;
		    float: left;
		    margin-right: 16px;
		    border: 1px solid #fff;
		    box-shadow: 0px 0px 0px 2px #f00;
		}

		.post_box-avatar::after {
		    content:"";
		    display:block;
		}

		.post_box-name {
		    font-weight: bold;
		}

		.post_box-subtitle {
		    color: #777;
		}

		.post_box-body {
		    margin-top: 16px;
		    margin-bottom: 8px;
		}

		.post_box-options {
		    float: right;
		}
		.option-btn {
		    background: #f8f8f8;
		    border: none;
		    color: #2c3e50;
		    padding: 7px;
		    cursor: pointer;
		    font-size: 14px;
		    margin-left: 2px;
		    margin-right: 2px;
		    outline: none;
		    height: 42px;
		}
	</style>
		</div>
		{% endautoescape %}
{% endblock %}

